# Claude Code Manager - Environment Configuration

# Server Configuration
PORT=5275
NODE_ENV=development

# Projects Directory
# This is the directory containing all your projects
PROJECTS_DIR=/home/thornburywn/Projects

# Client URL (for CORS configuration)
# In production, set this to your actual domain
CLIENT_URL=https://manage.wbtlabs.com

# Anthropic API Key (required for claude CLI)
# Get your key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-api-key-here

# PostgreSQL Database URL (for session persistence)
# Run these commands to create the database:
#   sudo -u postgres createuser -P ccm_user
#   sudo -u postgres createdb -O ccm_user claude_code_manager
DATABASE_URL="postgresql://ccm_user:YOUR_PASSWORD_HERE@localhost:5432/claude_code_manager?schema=public"

# =============================================================================
# AUTHENTIK SSO CONFIGURATION (Sovereign Stack)
# =============================================================================

# Enable/disable authentication (set to false ONLY for local development)
# WARNING: Must be true in production!
AUTH_ENABLED=true

# Authentik base URL
AUTHENTIK_URL=https://auth.wbtlabs.com

# Authentik Application Slug
AUTHENTIK_CLIENT_ID=claude-manager

# OAuth2 Client Secret (for direct OAuth2 flow, not needed with proxy)
AUTHENTIK_CLIENT_SECRET=your-client-secret-here

# =============================================================================
# SECURITY: Proxy Header Validation (CRITICAL FOR PRODUCTION)
# =============================================================================

# REQUIRED: Shared secret to validate requests from Authentik proxy
# Generate with: openssl rand -hex 32
# Must also be configured in Authentik proxy as a custom header
AUTHENTIK_PROXY_SECRET=your-secret-here-generate-with-openssl-rand-hex-32

# Trusted proxy IPs (Docker network where Authentik proxy runs)
# Format: comma-separated IPs or CIDR ranges
# Example for Docker: 172.17.0.0/16,172.18.0.0/16
TRUSTED_PROXY_IPS=172.17.0.0/16,172.18.0.0/16

# Console.web tmux configuration
# Enables mouse scrolling, clipboard integration, and optimal defaults for web-based terminal

# Enable mouse mode - allows mouse wheel scrolling, pane selection, resizing
set -g mouse on

# Large scrollback buffer (50,000 lines)
set -g history-limit 50000

# Use 256 colors
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# =============================================================================
# CLIPBOARD INTEGRATION (OSC 52)
# =============================================================================
# Enable clipboard integration - allows tmux to copy to browser clipboard
# via OSC 52 escape sequences that xterm.js understands
set -g set-clipboard on

# Allow tmux to set the terminal clipboard using OSC 52
set -ga terminal-overrides ",xterm-256color:Ms=\\E]52;c;%p2%s\\7"

# Copy selection to clipboard automatically when mouse is released in copy-mode
# This sends the selection to the browser clipboard via OSC 52
bind -T copy-mode MouseDragEnd1Pane send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-selection-and-cancel

# Also bind y in copy-mode to copy to clipboard
bind -T copy-mode y send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# =============================================================================

# Reduce escape time for faster response
set -sg escape-time 10

# Enable focus events for better terminal integration
set -g focus-events on

# Status bar styling (minimal, non-intrusive)
set -g status-style 'bg=#1a1a1a fg=#10b981'
set -g status-left ''
set -g status-right ''
set -g status off

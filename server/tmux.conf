# Console.web tmux configuration
# Web-based terminal with clipboard integration

# Mouse support - but let xterm.js handle selection
set -g mouse on

# Large scrollback buffer
set -g history-limit 50000

# 256 colors with true color support
set -g default-terminal "xterm-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# =============================================================================
# CLIPBOARD (OSC 52) - Critical for browser clipboard integration
# =============================================================================
# Enable clipboard integration via OSC 52 escape sequences
set -g set-clipboard on

# Tell tmux how to send OSC 52 for xterm-256color terminal
# Ms capability: set clipboard using OSC 52 sequence
set -ga terminal-overrides ",xterm-256color:Ms=\\E]52;c;%p2%s\\7"

# Allow passthrough for applications that send their own OSC 52
set -g allow-passthrough on

# =============================================================================
# MOUSE SELECTION - Disable tmux copy-mode for drag, let xterm.js handle it
# =============================================================================
# Unbind mouse drag from entering copy-mode - xterm.js handles selection
unbind -T root MouseDrag1Pane
unbind -T copy-mode MouseDrag1Pane
unbind -T copy-mode-vi MouseDrag1Pane

# Don't auto-cancel copy-mode on mouse release
unbind -T copy-mode MouseDragEnd1Pane
unbind -T copy-mode-vi MouseDragEnd1Pane

# Keep scroll wheel for scrolling (enters copy-mode)
# =============================================================================

# Fast escape time
set -sg escape-time 10

# Focus events for terminal integration
set -g focus-events on

# Minimal status bar (disabled)
set -g status off
